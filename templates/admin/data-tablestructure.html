<!DOCTYPE HTML>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="renderer" content="webkit|ie-comp|ie-stand">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<meta http-equiv="Cache-Control" content="no-siteapp" />
		<link rel="Bookmark" href="/favicon.ico">
		<link rel="Shortcut Icon" href="/favicon.ico" />
		<!--[if lt IE 9]>
<script type="text/javascript" src="lib/html5shiv.js"></script>
<script type="text/javascript" src="lib/respond.min.js"></script>
<![endif]-->
		<link rel="stylesheet" type="text/css" href="/static/css/H-ui.min.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/H-ui.admin.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/iconfont.css" />
		<link rel="stylesheet" type="text/css" href="/static/css/style.css" />
		<!--[if IE 6]>
<script type="text/javascript" src="lib/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
		<title>数据结构</title>
		<style type="text/css">
		.content{
			position:relative;
			width:100%;
			height:auto;
		}
		.box{
			position:relative;
			display: inline;
			float:left;
			border: solid 1px #E3EAEA; 
			margin: 10px;
		}
		.box dt{
			width:300px;
			height:35px;
			background: #E3EAEA;
			text-align: center;
			padding-left: 5px;
			padding-right: 5px;
			padding-top: 3px;
			padding-bottom: 3px;
		}
		.box dd{
			width:300px;
			height:33px;
			text-align: left;
			padding-left: 10px;
			padding-top: 2px;
			padding-bottom: 2px;
			background: #F5FAFE;
		}
		</style>
	</head>

	<body>
		<nav class="breadcrumb"><i class="Hui-iconfont">&#xe67f;</i> 首页 <span class="c-gray en">&gt;</span> 数据管理 <span class="c-gray en">&gt;</span> 数据结构
			<a id="btn-refresh" class="btn btn-success radius r" style="line-height:1.6em;margin-top:3px" href="javascript:location.replace(location.href);" title="刷新"><i class="Hui-iconfont">&#xe68f;</i></a>
		</nav>
		<div class="page-container">
			<table class="table table-bordered table-border table-bg">
				<thead>
					<tr>
						<th scope="col" colspan="9">数据结构<span class="r">共有<strong>{{len(tbs)}}</strong>张表</span></th>
					</tr>
				</thead>
				<tbody id="adminlist">
					<tr class="text-c">
					<td>
					<div class="content">
					{% for tb in tbs %}
						<div class="box">
							<dl>
								<dt>{{tb['name']}}({{len(tb['key'])}})</dt>
								{% for key in tb['key'] %}
								<dd>{{key}}</dd>
								{% end %}
							</dl>
						</div>
					{% end %}
					</div>
					</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!--_footer 作为公共模版分离出去-->
		<script type="text/javascript" src="/static/js/jquery-1.9.1.min.js"></script>
		<script type="text/javascript" src="/static/js/layer/2.4/layer.js"></script>
		<script type="text/javascript" src="/static/js/H-ui.min.js"></script>
		<script type="text/javascript" src="/static/js/H-ui.admin.js"></script>
		<!--/_footer 作为公共模版分离出去-->

		<!--请在下方写此页面业务相关的脚本-->
		<script type="text/javascript" src="/static/js/My97DatePicker/4.8/WdatePicker.js"></script>
		<script type="text/javascript" src="/static/js/jquery.dataTables.min.js"></script>
		<script type="text/javascript" src="/static/js/laypage/1.2/laypage.js"></script>
		<script type="text/javascript">
			function load_data() {
				datas = {};
				$.ajax({
					type: "POST",
					url: "/data/tablelist",
					data: datas,
					async: false,
					error: function(request) {
						alert("Connection error");
					},
					success: function(data) {
						debugger
						var obj = JSON.parse(data);
						var count = obj.count;
						if(count>0) {
							$("#tablelist").html(obj.data.length)
						} else {
							$("#tablelist").html(obj.msg)
						}
					}
				});
			}
			/* load_data(); */
		</script>
	</body>

</html>